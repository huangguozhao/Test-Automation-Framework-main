# æ–°ç³»ç»Ÿæµ‹è¯•å¿«é€ŸæŒ‡å— ğŸš€

## ğŸ“‹ **å‰ææ¡ä»¶**

1. **ç¡®ä¿MockæœåŠ¡å™¨è¿è¡Œ**
   ```bash
   # å¯åŠ¨MockæœåŠ¡å™¨
   python mock_server/api_server/base/flask_service.py
   ```

2. **å®‰è£…å¿…è¦ä¾èµ–**
   ```bash
   pip install pytest allure-pytest requests
   ```

## ğŸ¯ **ä¸‰ç§æµ‹è¯•æ–¹å¼**

### **æ–¹å¼1ï¼šä¸€é”®æµ‹è¯•ï¼ˆæœ€ç®€å•ï¼‰**

```bash
# è¿è¡Œä¸€é”®æµ‹è¯•è„šæœ¬
python run_new_system.py
```

**ç‰¹ç‚¹ï¼š**
- âœ… è‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒ
- âœ… è‡ªåŠ¨å¯åŠ¨æµ‹è¯•
- âœ… è‡ªåŠ¨ç”ŸæˆAllureæŠ¥å‘Š
- âœ… è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹æŠ¥å‘Š

### **æ–¹å¼2ï¼šæ‰‹åŠ¨å‘½ä»¤ï¼ˆæ¨èå­¦ä¹ ï¼‰**

```bash
# 1. è¿è¡Œæµ‹è¯•å¹¶ç”ŸæˆAllureæ•°æ®
pytest example_new_system/testcase/ --alluredir=report/new_system_temp -v

# 2. å¯åŠ¨AllureæŠ¥å‘ŠæœåŠ¡
allure serve report/new_system_temp
```

**ç‰¹ç‚¹ï¼š**
- ğŸ¯ å®Œå…¨æ§åˆ¶æµ‹è¯•è¿‡ç¨‹
- ğŸ“Š è¯¦ç»†çš„AllureæŠ¥å‘Š
- ğŸ” å¯ä»¥çœ‹åˆ°æ¯ä¸ªæµ‹è¯•æ­¥éª¤

### **æ–¹å¼3ï¼šä½¿ç”¨ä¸“ç”¨é…ç½®ï¼ˆé«˜çº§ï¼‰**

```bash
# è¿›å…¥æ–°ç³»ç»Ÿç›®å½•
cd example_new_system

# è¿è¡Œæµ‹è¯•ï¼ˆè‡ªåŠ¨ä½¿ç”¨pytest.inié…ç½®ï¼‰
pytest

# æŸ¥çœ‹æŠ¥å‘Š
allure serve ../report/new_system_temp
```

**ç‰¹ç‚¹ï¼š**
- âš™ï¸ ä½¿ç”¨ä¸“é—¨çš„é…ç½®æ–‡ä»¶
- ğŸ¨ è‡ªå®šä¹‰æµ‹è¯•å‚æ•°
- ğŸ“ˆ ä¼˜åŒ–çš„æŠ¥å‘Šç”Ÿæˆ

## ğŸ“Š **AllureæŠ¥å‘ŠåŠŸèƒ½å±•ç¤º**

### **æŠ¥å‘ŠåŒ…å«çš„ä¿¡æ¯ï¼š**
- ğŸ“ˆ **æµ‹è¯•ç»Ÿè®¡**: é€šè¿‡/å¤±è´¥/è·³è¿‡æ•°é‡
- ğŸ¯ **æµ‹è¯•åˆ†ç±»**: æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„
- ğŸ“ **æµ‹è¯•æ­¥éª¤**: è¯¦ç»†çš„æ‰§è¡Œæ­¥éª¤
- ğŸ” **å¤±è´¥è¯¦æƒ…**: é”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ª
- ğŸ“Š **è¶‹åŠ¿åˆ†æ**: å†å²æµ‹è¯•ç»“æœå¯¹æ¯”
- ğŸ·ï¸ **ç¯å¢ƒä¿¡æ¯**: æµ‹è¯•ç¯å¢ƒé…ç½®è¯¦æƒ…
- â±ï¸ **æ‰§è¡Œæ—¶é—´**: æ¯ä¸ªæµ‹è¯•çš„è€—æ—¶ç»Ÿè®¡

### **æŠ¥å‘Šç‰¹è‰²åŠŸèƒ½ï¼š**
- ğŸ¨ **ç¾è§‚ç•Œé¢**: ç°ä»£åŒ–çš„Webç•Œé¢
- ğŸ”„ **å®æ—¶æ›´æ–°**: æµ‹è¯•è¿‡ç¨‹ä¸­å®æ—¶æ˜¾ç¤ºç»“æœ
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ‰‹æœºå’Œå¹³æ¿æŸ¥çœ‹
- ğŸ”— **åˆ†äº«åŠŸèƒ½**: å¯ä»¥ç”Ÿæˆé™æ€HTMLåˆ†äº«
- ğŸ¯ **è¿‡æ»¤åŠŸèƒ½**: æŒ‰çŠ¶æ€ã€æ ‡ç­¾ã€æ—¶é—´è¿‡æ»¤
- ğŸ“‹ **å¯¼å‡ºåŠŸèƒ½**: æ”¯æŒå¤šç§æ ¼å¼å¯¼å‡º

## ğŸ§ª **æµ‹è¯•ç”¨ä¾‹è¯´æ˜**

### **å½“å‰åŒ…å«çš„æµ‹è¯•ï¼š**

1. **åˆ›å»ºè®¢å•æµ‹è¯•**
   - âœ… æ­£å¸¸åˆ›å»ºè®¢å•
   - âœ… å‚æ•°éªŒè¯æµ‹è¯•
   - âœ… å¼‚å¸¸æƒ…å†µå¤„ç†

2. **æŸ¥è¯¢è®¢å•æµ‹è¯•**
   - âœ… æŒ‰IDæŸ¥è¯¢è®¢å•
   - âœ… è®¢å•åˆ—è¡¨æŸ¥è¯¢

### **æµ‹è¯•æ•°æ®ç‰¹ç‚¹ï¼š**
- ğŸ² **Mockæ•°æ®**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€çœŸå®ç¯å¢ƒ
- ğŸ”„ **å‚æ•°åŒ–**: æ”¯æŒå¤šç§æµ‹è¯•åœºæ™¯
- ğŸ“Š **è¦†ç›–å…¨é¢**: åŒ…å«æ­£å¸¸å’Œå¼‚å¸¸æµç¨‹

## ğŸ¨ **æŠ¥å‘Šå®šåˆ¶åŠŸèƒ½**

### **ç¯å¢ƒä¿¡æ¯å±•ç¤º**
æŠ¥å‘Šä¼šè‡ªåŠ¨æ˜¾ç¤ºä»¥ä¸‹ç¯å¢ƒä¿¡æ¯ï¼š
- ç³»ç»Ÿåç§°ï¼šæ–°è®¢å•ç®¡ç†ç³»ç»Ÿ
- æµ‹è¯•ç¯å¢ƒï¼šæµ‹è¯•ç¯å¢ƒ
- æœåŠ¡åœ°å€ï¼šhttp://127.0.0.1:8787
- æµ‹è¯•æ¡†æ¶ï¼špytest + allure
- Pythonç‰ˆæœ¬ï¼š3.13.5

### **æµ‹è¯•åˆ†ç±»æ ‡è®°**
- ğŸ”¥ **Critical**: å…³é”®åŠŸèƒ½æµ‹è¯•
- ğŸ’¨ **Smoke**: å†’çƒŸæµ‹è¯•
- ğŸ”„ **Regression**: å›å½’æµ‹è¯•
- ğŸ“Š **API**: æ¥å£æµ‹è¯•

## ğŸ”§ **é«˜çº§åŠŸèƒ½**

### **å¹¶è¡Œæµ‹è¯•**
```bash
# å®‰è£…å¹¶è¡Œæ’ä»¶
pip install pytest-xdist

# 2ä¸ªè¿›ç¨‹å¹¶è¡Œè¿è¡Œ
pytest example_new_system/testcase/ -n 2 --alluredir=report/new_system_temp
```

### **å¤±è´¥é‡è¯•**
```bash
# å®‰è£…é‡è¯•æ’ä»¶
pip install pytest-rerunfailures

# å¤±è´¥æ—¶é‡è¯•2æ¬¡
pytest example_new_system/testcase/ --reruns 2 --alluredir=report/new_system_temp
```

### **æ ‡è®°æµ‹è¯•**
```bash
# åªè¿è¡Œå†’çƒŸæµ‹è¯•
pytest example_new_system/testcase/ -m smoke

# åªè¿è¡Œå…³é”®åŠŸèƒ½
pytest example_new_system/testcase/ -m critical
```

## ğŸ“± **æŠ¥å‘ŠæŸ¥çœ‹æ–¹å¼**

### **å®æ—¶æŠ¥å‘Šï¼ˆæ¨èï¼‰**
```bash
allure serve report/new_system_temp
```
- âœ… å®æ—¶æ›´æ–°
- âœ… äº¤äº’å¼ç•Œé¢
- âœ… è‡ªåŠ¨åˆ·æ–°

### **é™æ€æŠ¥å‘Š**
```bash
allure generate report/new_system_temp -o report/new_system_html --clean
start report/new_system_html/index.html
```
- âœ… å¯ç¦»çº¿æŸ¥çœ‹
- âœ… å¯åˆ†äº«ç»™ä»–äºº
- âœ… é€‚åˆCI/CD

## ğŸ¯ **å¿«é€Ÿå‘½ä»¤å‚è€ƒ**

```bash
# åŸºç¡€æµ‹è¯•
pytest example_new_system/testcase/ -v

# ç”ŸæˆæŠ¥å‘Š
pytest example_new_system/testcase/ --alluredir=report/new_system_temp -v

# æŸ¥çœ‹æŠ¥å‘Š
allure serve report/new_system_temp

# ä¸€é”®æµ‹è¯•
python run_new_system.py

# è°ƒè¯•æ¨¡å¼
pytest example_new_system/testcase/ -vs --tb=long

# åªè¿è¡Œå¤±è´¥çš„æµ‹è¯•
pytest example_new_system/testcase/ --lf -v
```

## ğŸ†˜ **å¸¸è§é—®é¢˜è§£å†³**

### **Q: æ‰¾ä¸åˆ°æ¨¡å—é”™è¯¯ï¼Ÿ**
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
pwd  # åº”è¯¥æ˜¾ç¤º Test-Automation-Framework-main

# æˆ–è€…ä½¿ç”¨ç»å¯¹è·¯å¾„
pytest E:/myProject/Test-Automation-Framework-main/example_new_system/testcase/ -v
```

### **Q: MockæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Ÿ**
```bash
# æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
curl http://127.0.0.1:8787/dar/user/login

# æˆ–è€…é‡æ–°å¯åŠ¨æœåŠ¡å™¨
python mock_server/api_server/base/flask_service.py
```

### **Q: AllureæŠ¥å‘Šæ— æ³•æ‰“å¼€ï¼Ÿ**
```bash
# æ£€æŸ¥Allureæ˜¯å¦å®‰è£…
allure --version

# ä½¿ç”¨é™æ€æŠ¥å‘Š
allure generate report/new_system_temp -o report/html --clean
```

## ğŸ‰ **å¼€å§‹æµ‹è¯•**

ç°åœ¨ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€ç§æ–¹å¼å¼€å§‹æµ‹è¯•ï¼š

1. **æœ€ç®€å•**: `python run_new_system.py`
2. **å­¦ä¹ ç”¨**: `pytest example_new_system/testcase/ --alluredir=report/new_system_temp -v`
3. **é«˜çº§ç”¨**: `cd example_new_system && pytest`

äº«å—æµ‹è¯•å’Œç¾è§‚çš„AllureæŠ¥å‘Šå§ï¼ ğŸš€ğŸ“Š